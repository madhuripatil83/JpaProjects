package com.example.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.ApplicationContext;

import com.example.demo.entity.Citizen;
import com.example.demo.entity.Passport;
import com.example.demo.service.CitizenService;
import com.example.demo.service.PassportService;

@SpringBootApplication
public class OnetoOneBidirectionalApplication {

	public static void main(String[] args) {
		ApplicationContext context = SpringApplication.run(OnetoOneBidirectionalApplication.class, args);
		PassportService passportService = context.getBean(PassportService.class);
		CitizenService citizenService = context.getBean(CitizenService.class);

		Citizen citizen = new Citizen();
		citizen.setCname("Ravi");

		Passport passport = new Passport();
		passport.setPnumber("99333");
		passport.setCitizen(citizen);

		passportService.savePassport(passport);

		citizen.setPassport(passport);

		System.out.println("Passport details");
		System.out.println(passport.getPid());
		System.out.println(passport.getPnumber());
		System.out.println(passport.getCitizen().getCid());
		System.out.println(passport.getCitizen().getCname());

	}

}
